version: "1.0"
method: GET
path: "/empresases/list"
description: "Lista de empresases"

auth:
  required: true
  permissions: ["empresases.read"]

params:
  query:
    - name: page
      type: int
      default: 1
    - name: limit
      type: int
      default: 20

commands:
  - type: query
    sql: |
      SELECT * 
      FROM empresas
      WHERE activo = true
      ORDER BY id ASC 
      LIMIT :limit OFFSET :offset
    transform_params:
      offset: "(:page - 1) * :limit"