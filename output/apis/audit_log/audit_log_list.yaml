version: "1.0"
method: GET
path: "/audit_logs/list"
description: "Lista de audit_logs"

auth:
  required: true
  permissions: ["audit_logs.read"]

params:
  query:
    - name: page
      type: int
      default: 1
    - name: limit
      type: int
      default: 20

commands:
  - type: query
    sql: |
      SELECT * 
      FROM audit_log
      ORDER BY id ASC 
      LIMIT :limit OFFSET :offset
    transform_params:
      offset: "(:page - 1) * :limit"